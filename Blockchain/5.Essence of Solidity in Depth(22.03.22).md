## Declare within Contract

- State Variables
- Functions
- Function Modifiers
- Events
- Struct Types
- Enum Types

<hr />

1. State Variables

- 블록체인에 영구히 저장할 값들은 상태변수(State Variables)로 선언
  - 어떤 값들은 반드시 State Variables로 선언되어야한다(mapping)
- public키워드를 사용하여 변수를 외부에 노출 가능
  - ➡️ 이 경우 자동으로 해당 변수 값을 돌려주는 Getter함수가 생성됨
- public키워드로 선언이 되어있는 함수만 다른 컨트랙트가 함수를 호출할 수 있다

2. Functions

- 함수는 실행가능한 코드를 정의한 것
  - external, public, internal, private중 하나로 visibility를 설정 가능
  - payable, view, pure등 함수의 유형을 정의 가능

3. Function Modifiers

- 함수의 실행 전,후의 성격을 정의 / 대부분의 경우 함수의 실행조건을 정의하는데 사용됨

4. Events

- 이벤트는 EVM로깅을 활용한 시스템
  - 이벤트가 실행될 때마다 트랜잭션 로그에 저장, 저장된 로그는 컨트랙트 주소와 연동되어 클라이언트가 RPC로 조회가능

<Contract>
```
contract Ballot {
    event Voted (address voter, uint proposal);
    function vote(uint proposal) public {
        emit Voted(msg.sender, proposal);
    }
}
```
<Client using caver-js>
```
const BallotContract = new caver.klay.Contract(abi, address);
BallotContract.events.Voted( 
    { fromBlock: 0 }, 
    function(error, event) {
    console.log(event);
    } 
).on('error', console.error);
```

5. Struct Types

- Solidity에서 제공하지 않는 새로운형식의 자료를 만들 때 사용
- 여러 자료를 묶어 복잡한 자료형을 만들때 유용

```
contract Ballot{
    struct Voter{
        uint weight;
        bool voted;
        address delegate;
        uint vote;
    }
}
```

```
contract SocialMedia{
    struct Friend{
        uint id;
        mapping (uint => address) friends;
    }
}
```

6. Enum Types

- 임의의 상수를 정의하기에 적합
- 상태 = Active, Inactive
- 요일 = Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday

```
contract Ballot{
    enum Status{
        Open,
        Closed
    }
}
```
