## 1. ⭐️What is Bitcoin?

➡️ 암호화에 대한 전반적인 내용(중요) / 기술층,프로토콜층,토큰층 / 어떤 다양한 프로토콜이 존재하는지와 비트코인이 프로토콜인 이유 / 코인과 토큰의 차이점

<img width="600" alt="스크린샷 2022-03-30 오전 9 14 53" src="https://user-images.githubusercontent.com/95120267/160966910-787c9613-ab1d-4376-8c63-b73ba7098959.png">


1️⃣ Technology(기술층) = Blockchain<br />

- `1) Blockchain`을 참고<br />

2️⃣ Protocol.coin(프로토콜층) = Bitcoin, Ethereum, Ripple, Neo, Waves, ...

- `프로토콜` : 네트워크의 참가자가 서로 소통하는 일련의 규칙(TCP,IP,HTTP)

- 이 3가지는 모두 네트워크상의 참가자들이 서로 소통하게 해주는 프로토콜임
- IP 프로토콜 : 인터넷 프로토콜, 모두 인터넷에서 참여할 수 있도록 함
- HTTP 프로토콜 : 하이퍼텍스트 전송 프로토콜, 브라우저가 웹사이트를 올바르게 표시하도록 함
- 비트코인 = 네트워크의 참가자들의 소통방법과 어떤 것에 대해 어떻게 합의할 것인가에 관한 일련의 규칙인 프로토콜

- 예를 들어 프로토콜은 어떻게 합의에 도달해야 하는지 명령을 함
- 프로토콜은 공개키와 서명이 어떻게 인증에 사용되야 하는지 명령함
- 프로토콜은 프로토콜 자체의 업데이트와 전체 네트워크가 제대로 기능하기 위해 필요한 많은 것들에 동의하는 방법을 명령함

- 암호화폐의 세계에는 다양한 프로토콜이 존재하고 모두 동일한 블록체인기술을 사용
- 프로토콜이 사실 프로토콜 안에 포함된다 / 각 프로토콜은 각각의 코인을 가짐 / 프로토콜에는 하나의 코인만 있음
- 모든 프로토콜에는 코인이 있다
- 코인 : 블록채굴과 블록 추가에 관한 보상으로 참가자들의 상호작용을 용이하게 하는 프로토콜의 근본적인 장점
  3️⃣ Token(토큰층) = 매우 많음
- 토큰 : 다양한 프로토콜로 구축되는 스마트 계약에 의존함
- 이더리움은 스마트계약과 토큰생성에 가장 많이 사용하는 프로토콜
- 비트코인은 스마트계약생성의 개념을 용이하지않게 하기때문에 토큰이 없음

### 비트코인 ecosystem

1. Nodes = 네트워크에서 채굴을 하지않는 참여자가 사용하는 장치, 이 네트워크에서 거래를 하려는 사람들의 장치
2. Miners(채굴자) = 블록에 트랜잭션을 추가하고 블록을 채굴하여 블록체인이 성장하도록 도움을 주는 참여자들
3. Large Mines(대규모 채굴자) = 블록체인 성장에 크게 기여하는 많은 전력과 장치,장비들을 가진 채굴자들
4. Mining Pools(채굴풀) = 채굴자들이 함께 모여 채굴작업을 하는 것

- 비트코인 = 프로토콜 / 단순 코인이 아니라 블록체인 기술을 현실로 만들어주는 프로토콜 / 프로토콜의 종류는 매우 다양함

## 2. Bitcoin's Monetary Policy

➡️ 비트코인의 자체 통화 정책 / 이것은 전적으로 소프트웨어(알고리즘)에 의해 통제됨

<img width="600" alt="스크린샷 2022-03-30 오후 1 00 25" src="https://user-images.githubusercontent.com/95120267/160967011-b82c0591-88e3-41d0-9ab7-09a41ae01918.png">


1️⃣ The Halving(반감기)

2️⃣ Block Frequency(블록 빈도) : 보상을 깨는 블록이 나타나는 빈도(암호화폐마다 다름)

## 3. Understanding Mining Difficulty

➡️ 채굴 난이도 / 소프트웨어를 이용해 실제로 비트코인을 확인해봄 / 비트코인 통화 정책을 어떻게 따라서 소프트웨어를 생성하는지

<img width="600" alt="스크린샷 2022-03-30 오후 2 43 57" src="https://user-images.githubusercontent.com/95120267/160967079-c3332744-b45f-418a-ac90-59d6e6725fbe.png">


- 채굴 대상 :
- 채굴 난이도 : 현재 대상을 최대대상으로 나눈 값
- 채굴 난이도는 어떻게 산출되고 조정될까? - 난이도는 2016블록마다(2주) 조정된다.
- 이상적으로 모든 블록은 10분마다 하나씩 생성됨, 계산하면 2주만에 총 2016개 블록이 나옴
- 따라서 2주에 한번씩 난이도가 조정됨
- 최대대상 = 비트코인 초기부터 존재하던 대상임 (00000000FFFF000...000)
- 최대 16진수 수였다면 모든 자릿수가 F로만 구성되었어야 하는데 그것도 아님
- 만약 맨 위에 있는 값을 대상으로 설정한다면 모든 채굴자가 선택하는 논스가 바로 골든논스가 되어버림
- 의도적으로 선행제로가 많은 총 8개의 선행제로 난이도에서 채굴을 시작한것
- 코딩되어 있는 알고리즘이 자동으로 난이도를 조정함

## 4. Mining Pools

➡️ 채굴 풀 / 채굴자들이 채굴 풀을 형성하는 방법

<img width="600" alt="스크린샷 2022-03-30 오후 5 56 52" src="https://user-images.githubusercontent.com/95120267/160967220-593b5b4b-43f9-4307-88b6-68d301ce7169.png">


- 산업수준 광산이 참여한 시점, 채굴풀이라는 것이 생김 ~> 개인 채굴자들은 혼자가 아님
- 동일한 풀에 속한 채굴자들은 해싱파워(처리능력)를 채굴풀에 하나로 모아서 전체적으로 더 큰힘을 가짐
- 채굴 풀이 제공하는 중요 서비스 : 연산력 분배
  - 채굴자들이 채굴 풀에서 이중작업을 하지 않도록 적절히 분배하는 것
  - 채굴풀에서 채굴자들이 동일한 논스의 동일한 블록구성을 해결하는 이중작업을 막아줌
  - 채굴자들 사이에 암호화 퍼즐을 분배
- 골든논스를 찾는 방법 = 여러 논스값을 무차별 대입하는 것 / 즉 논스값을 적절하게 나눠서 분배함
- 체인등록에 성공하면 블록을 보상으로 채굴풀에 도입했던 해싱파워만큼 나눠 갖게 됨
- 누구나 채굴풀에 참여할 수 있음(산업수준기기까지)

## 5. Nonce Rande

➡️ 논스 범위 / 비트코인과 블록체인의 기술적인 작동방법

- 논스는 32비트 숫자 + unsigned(=범위를 가진 정수 / 논스에 대한 각 블록에는 32비트 메모리만 할당됐다는 뜻) (unsigned되었기에 20억까지가 아닌 0~40억)
- 블록의 구성에 타임스탬프라는 필드가 있다
- 타임스탬프 : 블록이 채굴된 때의 (유닉스)타임스탬프
- 그래서, 1초마다 40억개의 논스를 해싱하고 1초가 흐른후 40억개의 논스를 넣었을때의 해시값이 완전 달라짐 (= 1초마다 논스가 다시 유효해짐)
- 특정 수의 논스를 거칠 때마다 타임스탬프가 업데이트됨

## 6. How Miners Pick Transactions

➡️ 채굴자가 트랜잭션을 선택하는 방법 / 트랜잭션은 모든 블록체인에서 아주 중요한 구성요소(거래를 가능하게하는 그 자체이기 때문) /

- 트랜잭션 = 모든 노드와 모든 채굴자에 연결되어있는 멤풀(메모리풀)에서 발생함, 전부 블록 내부에 포함되기 전에 멤풀에 저장되는 미확인 트랜잭션임
- 블록은 10분간격으로 추가되지만, 트랜잭션은 계속 발생함
- 모든 채굴자나 노드에는 집결지처럼 아직 보류중인 트랜잭션 리스트가 있는 멤풀이 연결되어있음
- 채굴자는 이 트랜잭션을 블록에 추가해야 함
- 채굴자가 포함할 수 있는 트랜잭션의 제한이 있고 채굴자는 어떻게 트랜잭션을 선택하는가?
- 멤풀에는 트랜잭션ID, 채굴자가 받을 수수료 등이 있다 (수수료는 필수가 아닌 사용자가 직접 지정함) ~> 수수료가 높은 트랜잭션 먼저 처리하려고 함
- 채굴자가 너무 많아서 1초의 타임스탬프가 지나기도 전 0.5초만에 40억의 논스를 넣어 해시값을 도출 다 함 -> 남은 0.5초는 블록의 구성을 변경하여 논스를 재사용한다
- 수수료를 0과 가깝게 넣으면, 멤풀에 걸릴 가능성이 있다. -> 어떤 채굴자도 트랜잭션을 선택하지 않으면 다시 나에게 공개된다
- 즉, 지갑이 현재 평균 수수료를 확인하는 것과 트랜잭션에 걸리지않도록 수수료에 무엇을 입력해야하는지 파악해야 함

[관련기사](https://www.coindesk.com/learn/how-bitcoin-mining-works-2/)

## 7. CPUs vs GPUs vs ASICs

➡️ 모든 암호화폐 채굴에 필요한 하드웨어 / 작동하는 방식 / 비트코인의 이론, 암호화폐의 이론

- 채굴자들이 해시암호문을 해독할 때 사용하는 여러종류의 하드웨어

<img width="600" alt="스크린샷 2022-03-31 오전 8 51 53" src="https://user-images.githubusercontent.com/95120267/160967369-ede4647d-a7ae-4816-a929-5335b8904d4b.png">


- CPU(중앙처리장치) : 노트북에 있는 메인 마이크로 칩 / 일반적임
- GPU(그래픽처리장치) : 컴퓨터나 노트북에 있는 그래픽카드,비디오카드 / 행렬연산에 특화됨(=해시계산에 특화됨)
- ASIC(애플리케이션별 집적 회로) : 오직 SHA256해시를 계산하는 작업에 완벽히 특화됨
- 속도 : ASICs > GPUs > CPUs

## 8. How do Mempools work?

➡️ 멤풀 : 트랜잭션이 블록체인에 들어오기 전 준비영역 / 멤풀의 동작방식 / 멤풀은 어디에있고, 정보는 어떻게 멤풀에서 네트워크상으로 전파되는지

<img width="600" alt="스크린샷 2022-03-31 오전 8 05 10" src="https://user-images.githubusercontent.com/95120267/160967428-847cb428-abe9-4636-a596-d14b1f1bda16.png">

- 분산 P2P네트워크에서 멤풀이 어떻게 작동하는지?
- 각 참여자가 노드든 채굴자이든 모두 멤풀을 하나씩 가지고 있다(= 분산 P2P네트워크에서 모두가 공유하는 하나의 멤풀은 존재하지 않음 = 멤풀에는 중앙화가 존재하지 않음 = 멤풀은 각 참여자에게 개별적으로 존재)
- 멤풀 자체가 블록체인은 아님 / 멤풀은 트랜잭션들이 블록에 추가되기 전 모이는 집결지
- 트랜잭션이 멤풀에 쌓이고 네트워크로 멤풀을 전달 -> 채굴자가 멤풀 안 트랜잭션을 블록에 등록 -> 블록에 들어간 트랜잭션은 멤풀에서 없어짐 -> 블록추가 및 멤풀 속 트랜잭션 없어짐을 네트워크로 알림 (반복)

## 9. Orphaned blocks

➡️ 고아블록 / 트랜잭션 측면에서 고아블록에 무슨일이 발생하는가

- longest chain이 안된 블록은 그 안에 있던 트랜잭션들이 다시 멤풀로 돌아감
- 트랜잭션의 성공을 판가름하기 전에 항시 최소한 몇번의 확인을 하는 것이 중요함

## 10. The 51% Attack

➡️ 51%공격이 왜 위험한지

<img width="693" alt="스크린샷 2022-03-31 오전 11 26 25" src="https://user-images.githubusercontent.com/95120267/160967464-40df7cc8-4ec0-46dd-b55e-89397b990032.png">


- 51%공격은 개별적이거나 선택된 블록을 조작하기 위한 공격이 아님
- 51%공격 = 51%의 해시율
- 네트워크상에서 숨기며 해시계산을 하다가 블록누적이 많아지면 공개하여 longest chain이 되는 공격

## 11. Bits to Target conversion

➡️ 비트를 대상으로 변환하는 방법

## 정리

1. 블록체인의 세 계층은 어떤순서(위~아래)인가?

- 기술(블록체인) -> 프로토콜/코인(비트코인,이더리움) -> 토큰(전원원장)

2. 비트코인의 최대 유통 가능 수는 몇 개이며 언제 최대?

- 이천이백만개, 2140년까지

3. 현재 채굴난이도에서는 하나의 해시가 유효하기 위해서는 18개의 0을 앞에 붙여야한다면 무작위로 선택된 하나의 해시가 유효할 확률?

<img width="600" alt="스크린샷 2022-03-30 오후 4 58 04" src="https://user-images.githubusercontent.com/95120267/160967622-82ee7740-912c-4176-924d-a956e95abd2d.png">

- 0.00000000000000000002%

4. 멤풀이란?

- 트랜잭션이 블록에 추가되기 전에 저장되는 영역, P2P분산네트워크의 모든 참가자는 각자 컴퓨터에 자신의 멤풀을 가지고 있음

5. 51 %의 공격은 무엇이며 공격자는 어떤이익?

- 지배가능한 계산력을 가진 숨은 참가자 그룹이 나머지 네트워크에 자신의 체인버전을 알리지 않고 채굴하는 경우, 공격자는 이중지출문제를 활용하여 이익을 얻음




## [출처](https://www.udemy.com/course/best-blockchain-az/)
