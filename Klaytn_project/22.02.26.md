# ì˜¤ëŠ˜ êµ¬í˜„í•œ ê²ƒ

- ì›í•˜ëŠ” í† í°ë“¤ì˜ ë°°ì—´ì„ ì¶”ì¶œ í›„ SYMBOL:AMOUNT í˜•ì‹ìœ¼ë¡œ ë Œë”ë§
- `<details>`ì™€ `<summary>`,`<span>`ì„ ì´ìš©í•˜ì—¬ í´ë¦­í•˜ë©´, ë°‘ìœ¼ë¡œ sendí•˜ëŠ” ê¸°ëŠ¥ì„ ë„ì›Œì„œ sendë¥¼ ì•ˆí•˜ë©´ ì•ˆë³´ì´ê²Œ ë³´ì´ê²Œ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ UIê°œì„ 
- transferí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  ë³´ë‹ˆ, ì¸ìë¡œ addressì™€ amountë¥¼ í•„ìš”ë¡œí•˜ì—¬ sendì°½ì„ ì—°ë™ë˜ê²Œ ì‹œë„í•¨

<hr />

# ì˜¤ëŠ˜ì˜ ì—ëŸ¬ì™€ í•´ê²°ë°©ë²•

## 1. mapìœ¼ë¡œ ìƒˆë¡œìš´ë°°ì—´ì„ ë§Œë“œëŠ”ë°©í–¥ìœ¼ë¡œ ë°”ê¿”ì„œ ì§„í–‰ì„ í•¨

```
function getTokenBalance(address) {
   const newArray = CONTRACT_ADDRESS.map(async function (obj) {
         const contract = new caver.klay.Contract(ABI, obj.ADDRESS);
         const result = await contract.methods.balanceOf(address).call();
         const format = caver.utils.fromWei(result);
         const tokenList = { SYMBOL: obj.SYMBOL, AMOUNT: format };

         return tokenList;
      });
}
```

tokenListê°’ì´ promise pending ë¦¬í„´ë˜ì–´ êµ¬ê¸€ë§í•´ë´„
[êµ¬ê¸€ë§ê²°ê³¼](https://crmrelease.tistory.com/99)

### <í•´ê²°ë°©ë²•>

```
  async function getTokenBalance(address) {
    const newArray = await Promise.all(
      CONTRACT_ADDRESS.map(async (obj) => {
        const contract = new caver.klay.Contract(ABI, obj.ADDRESS);
        const result = await contract.methods.balanceOf(address).call();
        const format = caver.utils.fromWei(result);
        const tokenList = { SYMBOL: obj.SYMBOL, AMOUNT: format };
        return tokenList;
      });
}
```

ì´ë ‡ê²Œ í•´ê²°ì„ í•¨ğŸ˜ƒ

## 2. ë¬¸ì œë°œìƒ... async awaitìœ¼ë¡œ ë¹„ë™ê¸°ë¡œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì™€ì„œ (ì™¸ë¶€ì— ì •ì˜í•œ)ë¦¬ìŠ¤íŠ¸ì— pushí•˜ê³  í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ listë¥¼ ì¡°íšŒí•˜ë©´ ì‹œê°„ì°¨ì´ë¡œ ì¸í•´ undefinedë¥¼ ë°˜í™˜í•œë‹¤..!

### <í•´ê²°ë°©ë²•>

- useEffectë¡œ ì£¼ì†Œê°€ ë„ì°©í•˜ë©´ ë¹„ë™ê¸°mapí•¨ìˆ˜ í˜¸ì¶œ
- listì— pushí•˜ëŠ” í˜•íƒœê°€ ì•„ë‹Œ useStateë¥¼ ì´ìš©í•˜ì—¬ setStateë¡œ newArray ìƒíƒœë³€ê²½
- ì›í•˜ëŠ” ì •ë³´ì˜ ë°°ì—´ì„ êº¼ë‚´ì˜¤ê¸° ì„±ê³µ
- â­ï¸ í•¨ìˆ˜ ë°–ì—ì„œ ifë¬¸ì„ ì‚¬ìš©í•˜ë©´ ì•ˆì¢‹ì€ì½”ë“œ -> ì¦‰, useEffect ë“±ì„ ì‚¬ìš©í•´ì•¼í•¨

<hr />

# 2. ë‚´ì¼ í•  ì¼

- transferì— í•„ìš”í•œ ì¸ìë“¤ì„ ì…ë ¥í•˜ê³  sendë²„íŠ¼ì„ í´ë¦­ë˜ë©´ ì •ë³´ê°€ ì—°ë™ë˜ëŠ”ì§€ í™•ì¸
- transferí•¨ìˆ˜ ë³¸ê²©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°
- ê°ì‚¬í•œë§ˆìŒ
