# UniSwap

<hr />

## UniSwap의 작동원리

UniSwap = 탈중앙화거래소
탈중앙화플랫폼인 블록체인의 특징을 잘 이해하고 있는 플랫폼

흔히 거래소라고하면 주식거래소, 증권거래소, 코인거래소 등은 차트가 있고 호가창이 있음, 그 호가창에 사람들이 호가를 올림 -> 매수요청 매도요청을하여 거래가 성립이 되고 자산이 오가는데 중앙화거래소에서는 이런 과정이 빠르게 이루어질 수 있지만,
중앙화거래소에서는 거래가 성사되어야지만 수수료가 발생

탈중앙화거래소는 빠르게 이루어지지않음(이더리움 블록 인터벌이 15초)
그래서 내가 트랜잭션(거래요청)을 보냈을때, 아무리 빨라도 15초 뒤에 승인이 난다.
그리고 모든 action을 할 때마다 (호가를 올리거나 올린 호가를 내가 사거나 팔거나하는 행동) 수수료가 발생한다.
탈중앙화거래소에서는 모든 동작이 트랜잭션으로 이루어지기 때문에 트랜잭션 수수료가 항상 발생한다.

~> 그래서 탈중앙화거래소를 중앙화거래소와 비슷하게 호가창이 있는 거래소로 만들게 되면 굉장히 느리고 비싸고 비효율적인 거래소가 된다.

<hr />

유니스왑은 AMM을 도입해서 이러한 문제를 해결했다.

원래의 중앙화거래소는 팔거나 사고싶은 가격을 정하여 호가를 올려 유동성을 공급하는데, AMM은 유동성공급을 사람들이 하게 만들지 않고 공식을 따르게 만드는 것

토큰A와 토큰B의 교환비율이 자동적으로 정해지게 만드는 것 ~> 사람들이 호가를 올리지 않더라도 가격(교환비율)이 정해지게 만드는 것

AMM(Automatic Market Maker) 중에서 CPMM을 사용함.
CPMM(Constant Product Market Maker)

- x(토큰A의 수량)\*y(토큰B의 수량) = k(상수)

<hr />

유니스왑 컨트랙트

- 유니스왑은 두개의 자산,두개의 코인, 두개의 토큰을 가지고 AMM을 만듦 -> 유니스왑은 항상 두 코인을 가지고 Pair를 만들어서 관리를 하게 됨
- 유니스왑은 크게 Factory컨트랙트와 Token Exchange컨트랙트로 나눠져 있다.
- Factory컨트랙트 : 토큰Pair를 정하면 그 두 코인을 대상으로 컨트랙트를 만든 후, 그 안에 풀(pool)을 만든다.(그 풀 안에 있는 수량은 서로 곱이 일정함)
